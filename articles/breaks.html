<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Options for Breaks and Legends • biscale</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Options for Breaks and Legends">
<meta property="og:description" content="biscale">
<meta property="og:image" content="https://chris-prener.github.io/biscale/logo.png">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    

    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">biscale</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">1.1.0.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../articles/biscale.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/bivariate_palettes.html">Bivariate Palettes</a>
    </li>
    <li>
      <a href="../articles/breaks.html">Options for Breaks and Legends</a>
    </li>
    <li>
      <a href="../articles/rasters.html">Rasters</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/chris-prener/biscale/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Options for Breaks and Legends</h1>
                        <h4 data-toc-skip class="author">Christopher Prener, Ph.D.</h4>
            
            <h4 data-toc-skip class="date">2022-09-15</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/chris-prener/biscale/blob/HEAD/vignettes/breaks.Rmd" class="external-link"><code>vignettes/breaks.Rmd</code></a></small>
      <div class="hidden name"><code>breaks.Rmd</code></div>

    </div>

    
    
<p>The following sets of options for breaks and legends offer expanded functionality over the basic use of the <code>biscale</code> package, allowing users to customize how their data are sorted into different bins on the legend as well as how that legend appears.</p>
<div class="section level2">
<h2 id="calculating-breaks">Calculating Breaks<a class="anchor" aria-label="anchor" href="#calculating-breaks"></a>
</h2>
<p><em>As of v1.0.0, <code>biscale</code> functions accept factors as well as numeric vectors.</em> This allows users to exert far greater control over how bivariate classes are ultimately calculated. To start, we’ll load our dependencies and sample data:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">## load dependencies</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://chris-prener.github.io/biscale/">biscale</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://r-spatial.github.io/classInt/" class="external-link">classInt</a></span><span class="op">)</span></span>
<span></span>
<span><span class="co">## load data</span></span>
<span><span class="va">data</span> <span class="op">&lt;-</span> <span class="va">stl_race_income</span></span></code></pre></div>
<p>If we investigate the <code>pctWhite</code> vector in our sample data, we’ll see that the data are percentage values.</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="fu">summary</span>(data<span class="sc">$</span>pctWhite)</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>   Min. 1st Qu.  Median    Mean 3rd Qu.    Max. </span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a>   <span class="fl">0.00</span>    <span class="fl">3.14</span>   <span class="fl">37.31</span>   <span class="fl">40.84</span>   <span class="fl">69.87</span>   <span class="fl">96.73</span> </span></code></pre></div>
<p>Using <code>style = "quantile"</code> will group these based on the distribution of values, yielding breaks at approximately 14% and 62%. Perhaps we would rather group our values manually, making breaks at 33.3% and 66.6% instead.</p>
<p>Now that <code>biscale</code> accepts factors, we can construct our breaks ahead of time and pass them to the <code><a href="https://rdrr.io/r/base/cut.html" class="external-link">cut()</a></code> function from <code>base</code> <code>R</code>. We need to ensure that the breaks created have one more value than what we will use for the <code>dim</code> argument in <code>biscale</code>’s functions. Therefore, if we intend to create a three-by-three bivariate map, our breaks that are passed to <code><a href="https://rdrr.io/r/base/cut.html" class="external-link">cut()</a></code>’s <code>breaks</code> argument need to have four values.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">data</span><span class="op">$</span><span class="va">pctWhite_bin</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/cut.html" class="external-link">cut</a></span><span class="op">(</span><span class="va">data</span><span class="op">$</span><span class="va">pctWhite</span>, breaks <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>,<span class="fl">33.3</span>,<span class="fl">66.6</span>, <span class="fu"><a href="https://rdrr.io/r/base/Extremes.html" class="external-link">max</a></span><span class="op">(</span><span class="va">data</span><span class="op">$</span><span class="va">pctWhite</span><span class="op">)</span><span class="op">)</span>, include.lowest <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
<p>Using a similar approach, you can use <code><a href="https://r-spatial.github.io/classInt/reference/classIntervals.html" class="external-link">classInt::classIntervals()</a></code> to calculate your breaks as well. For example, <code>"kmeans"</code> is not included as one of the styles in <code>biscale</code>, but we can apply it to our data and use it as the basis for constructing breaks:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">## calculate breaks</span></span>
<span><span class="va">breaks</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://r-spatial.github.io/classInt/reference/classIntervals.html" class="external-link">classIntervals</a></span><span class="op">(</span><span class="va">data</span><span class="op">$</span><span class="va">pctWhite</span>, n <span class="op">=</span> <span class="fl">3</span>, style <span class="op">=</span> <span class="st">"kmeans"</span><span class="op">)</span><span class="op">$</span><span class="va">brks</span></span>
<span></span>
<span><span class="co">## cut data</span></span>
<span><span class="va">data</span><span class="op">$</span><span class="va">pctWhite_bin</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/cut.html" class="external-link">cut</a></span><span class="op">(</span><span class="va">data</span><span class="op">$</span><span class="va">pctWhite</span>, breaks <span class="op">=</span> <span class="va">breaks</span>, include.lowest <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
<p>The <code><a href="https://r-spatial.github.io/classInt/reference/classIntervals.html" class="external-link">classInt::classIntervals()</a></code> is what <code><a href="../reference/bi_class.html">bi_class()</a></code> uses internally to calculate breaks for continuous variables, and it is also possible to manually replicate these calculations using this approach.</p>
<p>No matter the approach we’ve used to create it, we can use our factor <code>pctWhite_bin</code> with <code><a href="../reference/bi_class.html">bi_class()</a></code>:</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/bi_class.html">bi_class</a></span><span class="op">(</span><span class="va">data</span>, x <span class="op">=</span> <span class="va">pctWhite_bin</span>, y <span class="op">=</span> <span class="va">medInc</span>, style <span class="op">=</span> <span class="st">"quantile"</span>, dim <span class="op">=</span> <span class="fl">3</span><span class="op">)</span></span></code></pre></div>
<p>The <code><a href="../reference/bi_class.html">bi_class()</a></code> function will ensure that the number of factor levels in <code>pctWhite_bin</code> matches the value given for <code>dim</code>. Since <code>medInc</code> is a continuous measure, it will be binned using the <code>"quantile"</code> approach. If both the <code>x</code> and <code>y</code> variables are factors, <code>style</code> can be omitted. From this point forward, the <code>biscale</code> workflow is the same as in the basic examples.</p>
</div>
<div class="section level2">
<h2 id="customizing-legends">Customizing Legends<a class="anchor" aria-label="anchor" href="#customizing-legends"></a>
</h2>
<p><em>As of v1.0.0, <code>biscale</code> provides two sets of tools for further customizing your legends. These include the addition of breaks or labels to each axis as well as the addition of padding between each grid square on the legend.</em> To start, we’ll load our dependencies and sample data:</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">## load dependencies</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://chris-prener.github.io/biscale/">biscale</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://r-spatial.github.io/classInt/" class="external-link">classInt</a></span><span class="op">)</span></span>
<span></span>
<span><span class="co">## load data</span></span>
<span><span class="va">data</span> <span class="op">&lt;-</span> <span class="va">stl_race_income</span></span></code></pre></div>
<div class="section level3">
<h3 id="adding-labels-to-the-legend">Adding Labels to the Legend<a class="anchor" aria-label="anchor" href="#adding-labels-to-the-legend"></a>
</h3>
<p>To take advantage of <code>biscale</code>’s new functionality for adding labels or breaks to legends, there is a companion function to <code><a href="../reference/bi_class.html">bi_class()</a></code> named <code><a href="../reference/bi_class_breaks.html">bi_class_breaks()</a></code>. The arguments are largely the same, though <code><a href="../reference/bi_class_breaks.html">bi_class_breaks()</a></code> contains some additional arguments for formatting the output. These options will significantly influence what your legend looks like. Of particular note are <code>dig_lab</code>, which impacts the number of digits returned, and <code>split</code>, which will impact whether you create labels (if <code>split = FALSE</code>) or breaks (if <code>split = TRUE</code>):</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">## example 1</span></span>
<span><span class="va">labels1</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/bi_class_breaks.html">bi_class_breaks</a></span><span class="op">(</span><span class="va">data</span>, x <span class="op">=</span> <span class="va">pctWhite</span>, y <span class="op">=</span> <span class="va">medInc</span>, style <span class="op">=</span> <span class="st">"quantile"</span>, </span>
<span>                           dim <span class="op">=</span> <span class="fl">3</span>, dig_lab <span class="op">=</span> <span class="fl">3</span>, split <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span>                          </span>
<span><span class="co">## example 2</span></span>
<span><span class="va">breaks2</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/bi_class_breaks.html">bi_class_breaks</a></span><span class="op">(</span><span class="va">data</span>, x <span class="op">=</span> <span class="va">pctWhite</span>, y <span class="op">=</span> <span class="va">medInc</span>, style <span class="op">=</span> <span class="st">"quantile"</span>, </span>
<span>                          dim <span class="op">=</span> <span class="fl">3</span>, dig_lab <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span>x <span class="op">=</span> <span class="fl">2</span>, y <span class="op">=</span> <span class="fl">5</span><span class="op">)</span>, split <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
<p>What is crucial here is that you use the same <code>style</code> for calculating breaks as well as the same <code>x</code> and <code>y</code> columns.</p>
<p>The results illustrate important differences between the two examples:</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="do">## example 1</span></span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span> labels1</span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a><span class="sc">$</span>bi_x</span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="st">"0-14"</span>    <span class="st">"14-62"</span>   <span class="st">"62-96.7"</span></span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a><span class="sc">$</span>bi_y</span>
<span id="cb8-7"><a href="#cb8-7" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="st">"1.05e+04-2.62e+04"</span> <span class="st">"2.62e+04-4.39e+04"</span> <span class="st">"4.39e+04-7.44e+04"</span></span>
<span id="cb8-8"><a href="#cb8-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-9"><a href="#cb8-9" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> </span>
<span id="cb8-10"><a href="#cb8-10" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span> <span class="do">## example 2</span></span>
<span id="cb8-11"><a href="#cb8-11" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span> breaks2</span>
<span id="cb8-12"><a href="#cb8-12" aria-hidden="true" tabindex="-1"></a><span class="sc">$</span>bi_x</span>
<span id="cb8-13"><a href="#cb8-13" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>]  <span class="dv">0</span> <span class="dv">14</span> <span class="dv">62</span> <span class="dv">97</span></span>
<span id="cb8-14"><a href="#cb8-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-15"><a href="#cb8-15" aria-hidden="true" tabindex="-1"></a><span class="sc">$</span>bi_y</span>
<span id="cb8-16"><a href="#cb8-16" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="dv">10545</span> <span class="dv">26185</span> <span class="dv">43913</span> <span class="dv">74425</span></span></code></pre></div>
<p>In the first example, <code>dig_lab = 3</code> is applied to both the <code>x</code> and <code>y</code> vectors, and <code>split = FALSE</code> creates labels where a range of values for each bin is show separated by a dash. Since <code>dig_lab = 3</code>, for these specific vectors, it produces inconsistently rounded values for <code>x</code> and scientific notation for <code>y</code>.</p>
<p>In the second example, <code>dig_lab = c(x = 2, y = 5)</code> uses a named vector to apply different <code>dig_lab</code> values to <code>x</code> and <code>y</code>. This results in consistent decimals for <code>x</code> and no scientific notation for <code>y</code> - a big improvement! Since <code>split = TRUE</code>, we get breaks instead of labels.</p>
<p>The specific values needed for <code>dig_lab</code> are entirely dependent on your data, and some experimentation will likely be necessary to produce values you are happy with. We’ll recreate <code>labels1</code> before proceeding, using what we learned about the best <code>dig_lab</code> values:</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">## example 1 (modified)</span></span>
<span><span class="va">labels1</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/bi_class_breaks.html">bi_class_breaks</a></span><span class="op">(</span><span class="va">data</span>, x <span class="op">=</span> <span class="va">pctWhite</span>, y <span class="op">=</span> <span class="va">medInc</span>, style <span class="op">=</span> <span class="st">"quantile"</span>, </span>
<span>                           dim <span class="op">=</span> <span class="fl">3</span>, dig_lab <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">2</span>,<span class="fl">5</span><span class="op">)</span>, split <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></code></pre></div>
<p>Notice here that we use an unnamed vector for the <code>dig_lab</code> argument. <code><a href="../reference/bi_class_breaks.html">bi_class_breaks()</a></code> will accept either.</p>
<p>If you are using pre-made factors, these can be passed to <code><a href="../reference/bi_class_breaks.html">bi_class_breaks()</a></code> as well. Picking up from the example above, the factor variable `<code>is passed to the</code>x` argument:</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/bi_class_breaks.html">bi_class_breaks</a></span><span class="op">(</span><span class="va">data</span>, x <span class="op">=</span> <span class="va">pctWhite_bin</span>, y <span class="op">=</span> <span class="va">medInc</span>, style <span class="op">=</span> <span class="st">"quantile"</span>,</span>
<span>                dim <span class="op">=</span> <span class="fl">3</span>, dig_lab <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span>x <span class="op">=</span> <span class="cn">NA</span>, y <span class="op">=</span> <span class="fl">5</span><span class="op">)</span>, split <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></code></pre></div>
<p>Note that an <code>NA</code> value is passed to <code>dig_lab</code> since <code>pctWhite_bin</code> has already been created as a factor. If you are using <code><a href="https://r-spatial.github.io/classInt/reference/classIntervals.html" class="external-link">classInt::classIntervals()</a></code> to create your factor, use that function’s <code>dig_lab</code> argument instead to prepare your labels or breaks to the desired number of decimal places.</p>
<p>Once you have values that are ready to use, they can be passed to <code><a href="../reference/bi_legend.html">bi_legend()</a></code>. To illustrate the difference between labels and breaks, we’ll place the legends next to each other for comparison. First, our code:</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">## example 1 (modified)</span></span>
<span><span class="va">legend1</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/bi_legend.html">bi_legend</a></span><span class="op">(</span>pal <span class="op">=</span> <span class="st">"PurpleGrn"</span>,</span>
<span>                     xlab <span class="op">=</span> <span class="st">"% White"</span>,</span>
<span>                     ylab <span class="op">=</span> <span class="st">"Income"</span>,</span>
<span>                     size <span class="op">=</span> <span class="fl">12</span>,</span>
<span>                     breaks <span class="op">=</span> <span class="va">labels1</span>,</span>
<span>                     arrows <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span>                     </span>
<span><span class="co">## example 2</span></span>
<span><span class="va">legend2</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/bi_legend.html">bi_legend</a></span><span class="op">(</span>pal <span class="op">=</span> <span class="st">"PurpleGrn"</span>,</span>
<span>                     xlab <span class="op">=</span> <span class="st">"% White"</span>,</span>
<span>                     ylab <span class="op">=</span> <span class="st">"Income"</span>,</span>
<span>                     size <span class="op">=</span> <span class="fl">12</span>,</span>
<span>                     breaks <span class="op">=</span> <span class="va">breaks2</span>,</span>
<span>                     arrows <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></code></pre></div>
<p>We have passed our objects containing labels or breaks, <code>labels1</code> and <code>breaks2</code> respectively, to the optional <code>breaks</code> argument. Since we now can see how values are changing, we can simplify the labels. In both cases, we have <code>arrows = FALSE</code> to suppress the default arrows and have less text passed to both the <code>xlab</code> and <code>ylab</code> text. Here are the results:</p>
<p><img src="../reference/figures/legend1.jpeg" width="100%"><img src="../reference/figures/legend2.jpeg" width="100%"></p>
<p>For comparison, here is the default legend:</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">legend3</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/bi_legend.html">bi_legend</a></span><span class="op">(</span>pal <span class="op">=</span> <span class="st">"PurpleGrn"</span>,</span>
<span>                     xlab <span class="op">=</span> <span class="st">"Higher % White"</span>,</span>
<span>                     ylab <span class="op">=</span> <span class="st">"Higher Income"</span>,</span>
<span>                     size <span class="op">=</span> <span class="fl">12</span><span class="op">)</span> </span></code></pre></div>
<p><img src="../reference/figures/legend3.jpeg" width="100%"></p>
</div>
<div class="section level3">
<h3 id="padding-within-the-legend">Padding Within the Legend<a class="anchor" aria-label="anchor" href="#padding-within-the-legend"></a>
</h3>
<p>If you desire a clearer delineation of the classifications within the palette, you can use the optional <code>pad_width</code> and <code>pad_color</code> arguments to style the legend.</p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">## adjusting padding width only</span></span>
<span><span class="fu"><a href="../reference/bi_legend.html">bi_legend</a></span><span class="op">(</span><span class="st">"BlueGold"</span>, pad_width <span class="op">=</span> <span class="fl">1.5</span><span class="op">)</span></span>
<span></span>
<span><span class="co">## adjusting padding width and color</span></span>
<span><span class="fu"><a href="../reference/bi_legend.html">bi_legend</a></span><span class="op">(</span><span class="st">"BlueGold"</span>, pad_width <span class="op">=</span> <span class="fl">1.5</span>, pad_color <span class="op">=</span> <span class="st">'#000000'</span><span class="op">)</span></span></code></pre></div>
<p><img src="../reference/figures/legend_padding.jpeg" width="100%"></p>
</div>
</div>
<div class="section level2">
<h2 id="using-non-latin-characters">Using Non-Latin Characters<a class="anchor" aria-label="anchor" href="#using-non-latin-characters"></a>
</h2>
<p><em>As of v1.1.0, <code>biscale</code>’s legends accept non-Latin characters.</em> The <code><a href="../reference/bi_legend.html">bi_legend()</a></code> function now has a <code>base_family</code> argument that can be use to alter the legend font family used. It defaults to <code>"sans"</code>, which has always been the font family used in <code>biscale</code>. However, users who wish to utilize non-Latin characters may find that <code>"sans"</code> will not print their inputs. By setting <code>base_family = ""</code>, those characters can now be used to created legends in <code>biscale</code> if the suggested package <code>showtext</code> is installed.</p>
<p>If you want to use non-Latin characters, you can either install <code>showtext</code> individually (faster) or install all of the suggested dependencies at once (slower, will also give you a number of other packages you may or may not want):</p>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">## install just showtext</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="st">"showtext"</span><span class="op">)</span></span>
<span></span>
<span><span class="co">## install all suggested dependencies</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="st">"biscale"</span>, dependencies <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
<p>Once you have <code>showtext</code> installed, you should include <code><a href="https://rdrr.io/pkg/showtext/man/showtext_auto.html" class="external-link">showtext::showtext_auto()</a></code> prior to using <code><a href="../reference/bi_legend.html">bi_legend()</a></code>:</p>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># set language preferences</span></span>
<span><span class="fu">showtext</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/showtext/man/showtext_auto.html" class="external-link">showtext_auto</a></span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># create legend</span></span>
<span><span class="fu"><a href="../reference/bi_legend.html">bi_legend</a></span><span class="op">(</span>pal <span class="op">=</span> <span class="st">"GrPink"</span>,</span>
<span>          dim <span class="op">=</span> <span class="fl">3</span>,</span>
<span>          xlab <span class="op">=</span> <span class="st">"白人"</span>,</span>
<span>          ylab <span class="op">=</span> <span class="st">"收入"</span>,</span>
<span>          size <span class="op">=</span> <span class="fl">12</span>,</span>
<span>          arrows <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>          base_family <span class="op">=</span> <span class="st">""</span><span class="op">)</span></span></code></pre></div>
<p><img src="../reference/figures/legend5.jpeg" width="100%"></p>
<p>When you use <code><a href="../reference/bi_theme.html">bi_theme()</a></code>, be sure to set <code>base_family = ""</code> as well so that you can use non-Latin characters there, too.</p>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p></p>
<p>Developed by <a href="https://chris-prener.github.io" class="external-link">Christopher Prener</a>, Timo Grossenbacher, Angelo Zehr.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.6.</p>
</div>

      </footer>
</div>

  


  

  </body>
</html>
